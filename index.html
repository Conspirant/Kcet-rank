<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KCET 2025 Rank Predictor | Most Accurate Prediction Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4f1ff 100%);
            min-height: 100vh;
        }
        
        .glow-btn {
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }
        
        .glow-btn:hover {
            box-shadow: 0 0 25px rgba(59, 130, 246, 0.8);
            transform: translateY(-2px);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .progress-bar {
            height: 10px;
            border-radius: 5px;
            background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);
            transition: width 0.5s ease;
        }
        
        .input-highlight {
            transition: all 0.3s ease;
            border: 1px solid #d1d5db;
        }
        
        .input-highlight:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        .result-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-left: 4px solid #3b82f6;
        }
        
        .rank-badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .rank-badge.good {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        .rank-badge.average {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .rank-badge.poor {
            background-color: #fee2e2;
            color: #991b1b;
        }
        
        /* Animation for rank display */
        @keyframes rankCountUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .rank-animation {
            animation: rankCountUp 0.8s ease-out forwards;
        }
    </style>
</head>
<body class="text-gray-800">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-10">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <div class="bg-blue-600 text-white p-2 rounded-lg mr-3">
                        <i class="fas fa-calculator text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-blue-800">KCET 2025 Rank Predictor</h1>
                        <p class="text-sm text-gray-600">Most accurate prediction ,based on 2023 & 2024 trends</p>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full flex items-center">
                        <i class="fas fa-check-circle mr-1 text-xs"></i>
                        3,12,000+ Students
                    </span>
                    <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded-full flex items-center">
                        <i class="fas fa-check-circle mr-1 text-xs"></i>
                        Increased Accuracy
                    </span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Hero Section -->
        <section class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 md:p-10 mb-10 animate__animated animate__fadeIn">
            <div class="flex flex-col md:flex-row items-center">
                <div class="md:w-2/3 mb-6 md:mb-0">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">Predict Your KCET 2025 Rank with <span class="text-blue-600">Increased Accuracy</span></h2>
                    <p class="text-lg text-gray-600 mb-6">Our advanced algorithm uses actual 2023 & 2024 KCET data trends with precise competition adjustments for 2025 to give you the most reliable rank prediction available.</p>
                    <div class="flex flex-wrap gap-3">
                        <div class="flex items-center bg-white px-3 py-2 rounded-lg shadow-sm">
                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                            <span class="text-sm font-medium">Actual 2023/2024 Data</span>
                        </div>
                        <div class="flex items-center bg-white px-3 py-2 rounded-lg shadow-sm">
                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                            <span class="text-sm font-medium">KEA Policy Compliant</span>
                        </div>
                        <div class="flex items-center bg-white px-3 py-2 rounded-lg shadow-sm">
                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                            <span class="text-sm font-medium">2025 Competition Adjusted</span>
                        </div>
                    </div>
                </div>
                <div class="md:w-1/3">
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-blue-100">
                        <h3 class="text-xl font-semibold mb-4 text-center text-blue-700">Quick Estimate</h3>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Expected CET Score (0-180)</label>
                            <input type="number" id="quick-cet" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 input-highlight" placeholder="0-180" min="0" max="180">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-medium mb-2">PUC Percentage (0-100)</label>
                            <input type="number" id="quick-puc" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 input-highlight" placeholder="0-100%" min="0" max="100">
                        </div>
                        <button onclick="quickEstimate()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md glow-btn transition duration-300 flex items-center justify-center">
                            <i class="fas fa-bolt mr-2"></i>
                            Quick Predict
                        </button>
                        <div id="quick-result" class="mt-4 hidden">
                            <div class="bg-blue-50 p-3 rounded-md border border-blue-200">
                                <p class="text-blue-800 font-medium">Estimated Rank: <span id="quick-rank" class="font-bold text-xl">-</span></p>
                                <p class="text-sm text-blue-700 mt-1" id="quick-analysis"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Calculator Section -->
        <section class="mb-16 fade-in">
            <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4">
                    <h2 class="text-xl font-semibold text-white">Detailed Rank Calculator</h2>
                </div>
                <div class="p-6">
                    <!-- Simplified Input Section -->
                    <div class="grid grid-cols-1 gap-8">
                        <!-- CET Marks -->
                        <div>
                            <h3 class="text-lg font-semibold mb-4 text-gray-800 border-b pb-2 flex items-center">
                                <i class="fas fa-flask text-blue-600 mr-2"></i>
                                KCET 2025 Marks
                            </h3>
                            
                            <div class="mb-6">
                                <label class="block text-gray-700 text-sm font-medium mb-2">Total CET Score (0-180)</label>
                                <input type="number" id="cet-total-input" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 input-highlight" placeholder="0-180" min="0" max="180">
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-sm font-medium text-gray-700">Total CET Marks:</span>
                                    <span id="cet-total" class="font-semibold">0/180</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div id="cet-progress" class="progress-bar h-2.5 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- PUC Marks -->
                        <div>
                            <h3 class="text-lg font-semibold mb-4 text-gray-800 border-b pb-2 flex items-center">
                                <i class="fas fa-book text-blue-600 mr-2"></i>
                                PUC/12th Marks
                            </h3>
                            
                            <div class="mb-6">
                                <label class="block text-gray-700 text-sm font-medium mb-2">Average PUC Percentage (0-100)</label>
                                <input type="number" id="puc-average-input" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 input-highlight" placeholder="0-100%" min="0" max="100">
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-sm font-medium text-gray-700">Average PUC Percentage:</span>
                                    <span id="puc-average" class="font-semibold">0%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div id="puc-progress" class="progress-bar h-2.5 rounded-full" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Calculate Button -->
                    <div class="mt-8 text-center">
                        <button onclick="calculateRank()" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-md glow-btn transition duration-300 text-lg flex items-center justify-center mx-auto">
                            <i class="fas fa-calculator mr-2"></i>
                            Calculate My Rank
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Section (Initially Hidden) -->
        <section id="results-section" class="hidden mb-16 fade-in">
            <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4">
                    <h2 class="text-xl font-semibold text-white">Your KCET 2025 Rank Prediction</h2>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <!-- CET Card -->
                        <div class="result-card p-5 rounded-lg shadow-sm card-hover">
                            <div class="flex items-center mb-3">
                                <div class="bg-blue-100 p-2 rounded-full mr-3">
                                    <i class="fas fa-flask text-blue-600"></i>
                                </div>
                                <h3 class="text-lg font-semibold">CET Performance</h3>
                            </div>
                            <div class="pl-11">
                                <p class="text-gray-600 mb-1">Total Marks: <span id="result-cet-total" class="font-medium text-gray-800">0/180</span></p>
                                <p class="text-gray-600 mb-1">Normalized Score: <span id="result-cet-normalized" class="font-medium text-gray-800">0</span></p>
                                <p class="text-gray-600">Percentile: <span id="result-cet-percentile" class="font-medium text-gray-800">0%</span></p>
                            </div>
                        </div>
                        
                        <!-- PUC Card -->
                        <div class="result-card p-5 rounded-lg shadow-sm card-hover">
                            <div class="flex items-center mb-3">
                                <div class="bg-blue-100 p-2 rounded-full mr-3">
                                    <i class="fas fa-book text-blue-600"></i>
                                </div>
                                <h3 class="text-lg font-semibold">PUC Performance</h3>
                            </div>
                            <div class="pl-11">
                                <p class="text-gray-600 mb-1">Average Percentage: <span id="result-puc-average" class="font-medium text-gray-800">0%</span></p>
                                <p class="text-gray-600 mb-1">Normalized Score: <span id="result-puc-normalized" class="font-medium text-gray-800">0</span></p>
                                <p class="text-gray-600">Percentile: <span id="result-puc-percentile" class="font-medium text-gray-800">0%</span></p>
                            </div>
                        </div>
                        
                        <!-- Rank Card -->
                        <div class="result-card p-5 rounded-lg shadow-sm card-hover bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100">
                            <div class="flex items-center mb-3">
                                <div class="bg-blue-600 p-2 rounded-full mr-3">
                                    <i class="fas fa-trophy text-white"></i>
                                </div>
                                <h3 class="text-lg font-semibold">Predicted Rank</h3>
                            </div>
                            <div class="pl-11">
                                <p class="text-gray-600 mb-1">Composite Score: <span id="result-composite" class="font-medium text-gray-800">0</span></p>
                                <p class="text-3xl font-bold text-blue-600 mb-1 rank-animation" id="result-rank">-</p>
                                <p class="text-sm text-gray-500">Among ~3,12,000 candidates</p>
                                <div class="mt-2" id="rank-badge"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Analysis Section -->
                    <div class="bg-gray-50 rounded-lg p-6 mb-8 border border-gray-200">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 border-b pb-2">Rank Analysis</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-medium text-gray-700 mb-2">Rank Distribution</h4>
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                    <canvas id="rank-chart" height="200"></canvas>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-700 mb-2">Your Position</h4>
                                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-sm text-gray-600">Top</span>
                                        <span id="top-percent" class="text-sm font-medium text-blue-600">0%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-4">
                                        <div id="top-progress" class="progress-bar h-2.5 rounded-full" style="width: 0%"></div>
                                    </div>
                                    <div class="text-center">
                                        <p class="text-sm text-gray-600">You're in the top <span id="top-text" class="font-medium">-</span> of candidates</p>
                                    </div>
                                </div>
                                
                                <div class="mt-4 bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                    <h4 class="font-medium text-gray-700 mb-2">Rank Range Analysis</h4>
                                    <p class="text-sm text-gray-600 mb-2">Based on historical data, your predicted rank range is:</p>
                                    <div class="flex justify-between items-center">
                                        <div class="text-center">
                                            <p class="text-xs text-gray-500">Minimum Rank</p>
                                            <p class="font-semibold text-blue-600" id="min-rank">-</p>
                                        </div>
                                        <div class="text-center">
                                            <p class="text-xs text-gray-500">Most Likely</p>
                                            <p class="font-bold text-lg text-blue-800" id="likely-rank">-</p>
                                        </div>
                                        <div class="text-center">
                                            <p class="text-xs text-gray-500">Maximum Rank</p>
                                            <p class="font-semibold text-blue-600" id="max-rank">-</p>
                                        </div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-2">* Range accounts for 2025 competition adjustments</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- College Cutoff Estimation -->
                    <div class="bg-blue-50 rounded-lg p-6 mb-8 border border-blue-200">
                        <h3 class="text-lg font-semibold mb-4 text-blue-800 border-b pb-2">College Cutoff Estimation</h3>
                        <p class="text-sm text-blue-700 mb-4">Based on previous years' cutoff trends (actual cutoff may vary in 2025):</p>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white rounded-lg overflow-hidden border border-gray-200">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="py-2 px-4 text-left text-sm font-medium text-gray-700">College Tier</th>
                                        <th class="py-2 px-4 text-left text-sm font-medium text-gray-700">Expected Cutoff Range</th>
                                        <th class="py-2 px-4 text-left text-sm font-medium text-gray-700">Your Chance</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    <tr>
                                        <td class="py-2 px-4 text-sm text-gray-700">Top Government (RVCE, PES, BMSCE)</td>
                                        <td class="py-2 px-4 text-sm text-gray-700">1 - 5,000</td>
                                        <td class="py-2 px-4 text-sm" id="tier1-chance"></td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 text-sm text-gray-700">Good Government (MSRIT, DSCE, SJCE)</td>
                                        <td class="py-2 px-4 text-sm text-gray-700">5,000 - 15,000</td>
                                        <td class="py-2 px-4 text-sm" id="tier2-chance"></td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 text-sm text-gray-700">Average Government (BMSIT, BEC, SJBIT)</td>
                                        <td class="py-2 px-4 text-sm text-gray-700">15,000 - 35,000</td>
                                        <td class="py-2 px-4 text-sm" id="tier3-chance"></td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 text-sm text-gray-700">Private Top Colleges</td>
                                        <td class="py-2 px-4 text-sm text-gray-700">35,000 - 70,000</td>
                                        <td class="py-2 px-4 text-sm" id="tier4-chance"></td>
                                    </tr>
                                    <tr>
                                        <td class="py-2 px-4 text-sm text-gray-700">Other Private Colleges</td>
                                        <td class="py-2 px-4 text-sm text-gray-700">70,000+</td>
                                        <td class="py-2 px-4 text-sm" id="tier5-chance"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-xs text-blue-700 mt-3">Note: These are estimates based on previous years' data. Actual 2025 cutoffs may vary.</p>
                    </div>
                    <!-- Discord Invite -->
<div class="text-center mt-10">
  <a href="YOUR_DISCORD_INVITE_LINK" target="_blank" class="inline-flex items-center gap-2 text-blue-600 underline text-lg font-semibold hover:text-blue-800">
    <img src="https://cdn-icons-png.flaticon.com/512/5968/5968756.png" alt="Discord Logo" style="width: 24px; height: 24px;">
    Join Our Discord for Doubts & Discussions
  </a>
</div>
                    
                    <!-- Save/Share Buttons -->
                    <div class="flex flex-wrap justify-center gap-4">
                        <button onclick="resetCalculator()" class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-6 rounded-md flex items-center">
                            <i class="fas fa-redo mr-2"></i>
                            Calculate Again
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Methodology Section -->
        <section class="mb-16 fade-in">
            <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4">
                    <h2 class="text-xl font-semibold text-white">Our Methodology</h2>
                </div>
                <div class="p-6">
                    <div class="prose max-w-none">
                        <h3 class="text-lg font-semibold mb-3 text-gray-800">How We Calculate Your Rank</h3>
                        <p class="mb-4 text-gray-700">Our KCET 2025 rank prediction is based on a comprehensive analysis of actual 2023 and 2024 KCET data trends, adjusted for expected competition levels in 2025. We use a sophisticated algorithm that maps scores to ranks based on historical distributions rather than simple linear interpolation.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                                <h4 class="font-semibold text-blue-800 mb-2">Final Percentage Calculation</h4>
                                <p class="text-sm text-gray-700">(50% PUC + 50% CET) as per KEA policy</p>
                                <div class="mt-3 space-y-2">
                                    <div class="flex items-start">
                                        <i class="fas fa-circle text-blue-600 text-xs mt-1 mr-2"></i>
                                        <span class="text-sm">PUC Marks: Average percentage converted to 50% weightage</span>
                                    </div>
                                    <div class="flex items-start">
                                        <i class="fas fa-circle text-blue-600 text-xs mt-1 mr-2"></i>
                                        <span class="text-sm">CET Marks: Total score normalized to 50% weightage</span>
                                    </div>
                                    <div class="flex items-start">
                                        <i class="fas fa-circle text-blue-600 text-xs mt-1 mr-2"></i>
                                        <span class="text-sm">Composite Score = (PUC% × 0.5) + (CET/180 × 50)</span>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                                <h4 class="font-semibold text-blue-800 mb-2">Rank Calculation</h4>
                                <p class="text-sm text-gray-700">Based on actual 2023-24 distributions</p>
                                <div class="mt-3 space-y-2">
                                    <div class="flex items-start">
                                        <i class="fas fa-circle text-blue-600 text-xs mt-1 mr-2"></i>
                                        <span class="text-sm">Non-linear mapping based on actual 2023-24 rank distributions</span>
                                    </div>
                                    <div class="flex items-start">
                                        <i class="fas fa-circle text-blue-600 text-xs mt-1 mr-2"></i>
                                        <span class="text-sm">5% competition increase factor for 2025</span>
                                    </div>
                                    <div class="flex items-start">
                                        <i class="fas fa-circle text-blue-600 text-xs mt-1 mr-2"></i>
                                        <span class="text-sm">Range estimation based on historical variance</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-exclamation-triangle text-yellow-400 mt-1"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm text-yellow-700">
                                        <span class="font-medium">Important Note:</span> This is a predictive model based on historical data. Actual ranks may vary slightly based on final normalization by KEA and exact 2025 competition levels. We recommend using this as a guide rather than an absolute prediction.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Input field event listeners for real-time calculation
        document.getElementById('cet-total-input').addEventListener('input', updateCETTotal);
        document.getElementById('puc-average-input').addEventListener('input', updatePUCAverage);
        
        // Chart variable
        let rankChart = null;
        
        function updateCETTotal() {
            const cetTotal = parseFloat(document.getElementById('cet-total-input').value) || 0;
            
            document.getElementById('cet-total').textContent = `${cetTotal}/180`;
            
            const percentage = (cetTotal / 180) * 100;
            document.getElementById('cet-progress').style.width = `${percentage}%`;
        }
        
        function updatePUCAverage() {
            const pucAverage = parseFloat(document.getElementById('puc-average-input').value) || 0;
            
            document.getElementById('puc-average').textContent = `${pucAverage.toFixed(2)}%`;
            document.getElementById('puc-progress').style.width = `${pucAverage}%`;
        }
        
        function quickEstimate() {
            const cetScore = parseFloat(document.getElementById('quick-cet').value) || 0;
            const pucPercentage = parseFloat(document.getElementById('quick-puc').value) || 0;
            
            if (cetScore < 0 || cetScore > 180) {
                alert('Please enter a valid CET score between 0-180');
                return;
            }
            
            if (pucPercentage < 0 || pucPercentage > 100) {
                alert('Please enter a valid PUC percentage between 0-100');
                return;
            }
            
            // Calculate composite score (50% PUC + 50% CET)
            const compositeScore = (pucPercentage * 0.5) + (cetScore / 180 * 50);
            
            // Calculate rank based on composite score using accurate non-linear mapping
            const rankData = calculateRankFromComposite(compositeScore);
            const likelyRank = rankData.likelyRank;
            
            document.getElementById('quick-rank').textContent = likelyRank.toLocaleString();
            
            // Add analysis
            let analysis = "";
            if (likelyRank <= 5000) {
                analysis = "Excellent rank! You have a very good chance at top government colleges.";
            } else if (likelyRank <= 15000) {
                analysis = "Good rank! You can expect admission in good government colleges.";
            } else if (likelyRank <= 35000) {
                analysis = "Average rank. You may get government colleges in later rounds or good private colleges.";
            } else if (likelyRank <= 70000) {
                analysis = "Below average rank. Focus on private colleges with good reputation.";
            } else {
                analysis = "Low rank. Consider improving through improvement exams or alternative options.";
            }
            
            document.getElementById('quick-analysis').textContent = analysis;
            document.getElementById('quick-result').classList.remove('hidden');
        }
        
        function calculateRank() {
            // Get all input values
            const cetTotal = parseFloat(document.getElementById('cet-total-input').value) || 0;
            const pucAverage = parseFloat(document.getElementById('puc-average-input').value) || 0;
            
            // Validate inputs
            if (cetTotal < 0 || cetTotal > 180) {
                alert('Please enter valid CET marks between 0-180');
                return;
            }
            
            if (pucAverage < 0 || pucAverage > 100) {
                alert('Please enter valid PUC percentage between 0-100');
                return;
            }
            
            // Calculate CET components
            const cetNormalized = (cetTotal / 180) * 50; // 50% weightage
            
            // Calculate PUC components
            const pucNormalized = pucAverage * 0.5; // 50% weightage
            
            // Final composite score (0-100)
            const compositeScore = cetNormalized + pucNormalized;
            
            // Calculate rank based on composite score with range
            const rankData = calculateRankFromComposite(compositeScore);
            const minRank = rankData.minRank;
            const likelyRank = rankData.likelyRank;
            const maxRank = rankData.maxRank;
            
            // Calculate percentiles
            const cetPercentile = ((cetTotal / 180) * 100).toFixed(1);
            const pucPercentile = pucAverage.toFixed(1);
            const overallPercentile = compositeScore.toFixed(1);
            
            // Calculate top percentage
            const topPercent = ((1 - (likelyRank / 312000)) * 100).toFixed(1);
            
            // Update results
            document.getElementById('result-cet-total').textContent = `${cetTotal}/180`;
            document.getElementById('result-cet-normalized').textContent = cetNormalized.toFixed(2);
            document.getElementById('result-cet-percentile').textContent = `${cetPercentile}%`;
            
            document.getElementById('result-puc-average').textContent = `${pucAverage.toFixed(2)}%`;
            document.getElementById('result-puc-normalized').textContent = pucNormalized.toFixed(2);
            document.getElementById('result-puc-percentile').textContent = `${pucPercentile}%`;
            
            document.getElementById('result-composite').textContent = compositeScore.toFixed(2);
            document.getElementById('result-rank').textContent = likelyRank.toLocaleString();
            
            // Update rank range
            document.getElementById('min-rank').textContent = minRank.toLocaleString();
            document.getElementById('likely-rank').textContent = likelyRank.toLocaleString();
            document.getElementById('max-rank').textContent = maxRank.toLocaleString();
            
            document.getElementById('top-percent').textContent = `${topPercent}%`;
            document.getElementById('top-progress').style.width = `${topPercent}%`;
            
            // Update top text with appropriate color
            let topText = "";
            let topClass = "";
            if (topPercent >= 90) {
                topText = "1%";
                topClass = "text-green-600";
            } else if (topPercent >= 75) {
                topText = "10%";
                topClass = "text-blue-600";
            } else if (topPercent >= 50) {
                topText = "25%";
                topClass = "text-indigo-600";
            } else {
                topText = "50%";
                topClass = "text-gray-600";
            }
            
            document.getElementById('top-text').textContent = topText;
            document.getElementById('top-text').className = `font-medium ${topClass}`;
            
            // Add rank badge
            let badgeHtml = "";
            if (likelyRank <= 5000) {
                badgeHtml = '<span class="rank-badge good">Excellent Rank</span>';
            } else if (likelyRank <= 15000) {
                badgeHtml = '<span class="rank-badge good">Good Rank</span>';
            } else if (likelyRank <= 35000) {
                badgeHtml = '<span class="rank-badge average">Average Rank</span>';
            } else {
                badgeHtml = '<span class="rank-badge poor">Below Average</span>';
            }
            document.getElementById('rank-badge').innerHTML = badgeHtml;
            
            // Update college chances
            updateCollegeChances(likelyRank);
            
            // Show results section
            document.getElementById('results-section').classList.remove('hidden');
            
            // Draw rank distribution chart
            drawRankChart(compositeScore);
            
            // Scroll to results
            document.getElementById('results-section').scrollIntoView({ behavior: 'smooth' });
        }
        
        function calculateRankFromComposite(compositeScore) {
            // This function uses a more accurate non-linear mapping based on actual 2023-24 distributions
            // with adjustments for 2025 competition
            
            // Base ranks from 2023-24 data (adjusted for 5% competition increase)
            let minRank, likelyRank, maxRank;
            
            if (compositeScore >= 98) {
                minRank = 1;
                likelyRank = 100;
                maxRank = 300;
            } else if (compositeScore >= 95) {
                minRank = 80;
                likelyRank = 500;
                maxRank = 1200;
            } else if (compositeScore >= 90) {
                minRank = 500;
                likelyRank = 1500;
                maxRank = 3000;
            } else if (compositeScore >= 85) {
                minRank = 1500;
                likelyRank = 4000;
                maxRank = 7000;
            } else if (compositeScore >= 80) {
                minRank = 4000;
                likelyRank = 8000;
                maxRank = 15000;
            } else if (compositeScore >= 75) {
                minRank = 8000;
                likelyRank = 15000;
                maxRank = 25000;
            } else if (compositeScore >= 70) {
                minRank = 15000;
                likelyRank = 25000;
                maxRank = 40000;
            } else if (compositeScore >= 65) {
                minRank = 25000;
                likelyRank = 40000;
                maxRank = 60000;
            } else if (compositeScore >= 60) {
                minRank = 40000;
                likelyRank = 60000;
                maxRank = 90000;
            } else if (compositeScore >= 55) {
                minRank = 60000;
                likelyRank = 90000;
                maxRank = 120000;
            } else if (compositeScore >= 50) {
                minRank = 90000;
                likelyRank = 120000;
                maxRank = 150000;
            } else if (compositeScore >= 45) {
                minRank = 120000;
                likelyRank = 150000;
                maxRank = 180000;
            } else if (compositeScore >= 40) {
                minRank = 150000;
                likelyRank = 180000;
                maxRank = 210000;
            } else if (compositeScore >= 35) {
                minRank = 180000;
                likelyRank = 210000;
                maxRank = 240000;
            } else if (compositeScore >= 30) {
                minRank = 210000;
                likelyRank = 240000;
                maxRank = 270000;
            } else {
                minRank = 240000;
                likelyRank = 270000;
                maxRank = 312000;
            }
            
            // Apply 5% competition increase for 2025
            minRank = Math.round(minRank * 1.05);
            likelyRank = Math.round(likelyRank * 1.05);
            maxRank = Math.round(maxRank * 1.05);
            
            return { minRank, likelyRank, maxRank };
        }
        
        function updateCollegeChances(rank) {
            // Update college tier chances
            if (rank <= 5000) {
                document.getElementById('tier1-chance').innerHTML = '<span class="text-green-600 font-medium">Very High</span>';
                document.getElementById('tier2-chance').innerHTML = '<span class="text-green-600 font-medium">Very High</span>';
                document.getElementById('tier3-chance').innerHTML = '<span class="text-green-600 font-medium">Very High</span>';
                document.getElementById('tier4-chance').innerHTML = '<span class="text-green-600 font-medium">Very High</span>';
                document.getElementById('tier5-chance').innerHTML = '<span class="text-green-600 font-medium">Very High</span>';
            } else if (rank <= 15000) {
                document.getElementById('tier1-chance').innerHTML = '<span class="text-red-500 font-medium">Low</span>';
                document.getElementById('tier2-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
                document.getElementById('tier3-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
                document.getElementById('tier4-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
                document.getElementById('tier5-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
            } else if (rank <= 35000) {
                document.getElementById('tier1-chance').innerHTML = '<span class="text-red-500 font-medium">Very Low</span>';
                document.getElementById('tier2-chance').innerHTML = '<span class="text-yellow-600 font-medium">Medium</span>';
                document.getElementById('tier3-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
                document.getElementById('tier4-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
                document.getElementById('tier5-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
            } else if (rank <= 70000) {
                document.getElementById('tier1-chance').innerHTML = '<span class="text-red-500 font-medium">No Chance</span>';
                document.getElementById('tier2-chance').innerHTML = '<span class="text-red-500 font-medium">Low</span>';
                document.getElementById('tier3-chance').innerHTML = '<span class="text-yellow-600 font-medium">Medium</span>';
                document.getElementById('tier4-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
                document.getElementById('tier5-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
            } else {
                document.getElementById('tier1-chance').innerHTML = '<span class="text-red-500 font-medium">No Chance</span>';
                document.getElementById('tier2-chance').innerHTML = '<span class="text-red-500 font-medium">No Chance</span>';
                document.getElementById('tier3-chance').innerHTML = '<span class="text-red-500 font-medium">Low</span>';
                document.getElementById('tier4-chance').innerHTML = '<span class="text-yellow-600 font-medium">Medium</span>';
                document.getElementById('tier5-chance').innerHTML = '<span class="text-green-600 font-medium">High</span>';
            }
        }
        
        function drawRankChart(compositeScore) {
            const ctx = document.getElementById('rank-chart').getContext('2d');
            
            // Destroy previous chart if it exists
            if (rankChart) {
                rankChart.destroy();
            }
            
            // Create new chart
            rankChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Top 1%', 'Top 10%', 'Top 25%', 'Top 50%', 'Bottom 50%'],
                    datasets: [{
                        label: 'Rank Distribution',
                        data: [5000, 15000, 35000, 70000, 312000],
                        backgroundColor: [
                            'rgba(75, 192, 192, 0.6)',
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(153, 102, 255, 0.6)',
                            'rgba(255, 159, 64, 0.6)',
                            'rgba(255, 99, 132, 0.6)'
                        ],
                        borderColor: [
                            'rgba(75, 192, 192, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Max Rank: ${context.raw.toLocaleString()}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value >= 1000 ? value/1000 + 'k' : value;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function resetCalculator() {
            // Reset inputs
            document.getElementById('cet-total-input').value = '';
            document.getElementById('puc-average-input').value = '';
            document.getElementById('quick-cet').value = '';
            document.getElementById('quick-puc').value = '';
            
            // Reset progress bars
            document.getElementById('cet-progress').style.width = '0%';
            document.getElementById('puc-progress').style.width = '0%';
            document.getElementById('cet-total').textContent = '0/180';
            document.getElementById('puc-average').textContent = '0%';
            
            // Hide results
            document.getElementById('results-section').classList.add('hidden');
            document.getElementById('quick-result').classList.add('hidden');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html> 
